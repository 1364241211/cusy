import{c as J}from"./api.f62c2e2b.js";const _=function(m){const y=/^[1-9][0-9]/,w={11:"\u5317\u4EAC",12:"\u5929\u6D25",13:"\u6CB3\u5317",14:"\u5C71\u897F",15:"\u5185\u8499\u53E4",21:"\u8FBD\u5B81",22:"\u5409\u6797",23:"\u9ED1\u9F99\u6C5F ",31:"\u4E0A\u6D77",32:"\u6C5F\u82CF",33:"\u6D59\u6C5F",34:"\u5B89\u5FBD",35:"\u798F\u5EFA",36:"\u6C5F\u897F",37:"\u5C71\u4E1C",41:"\u6CB3\u5357",42:"\u6E56\u5317 ",43:"\u6E56\u5357",44:"\u5E7F\u4E1C",45:"\u5E7F\u897F",46:"\u6D77\u5357",50:"\u91CD\u5E86",51:"\u56DB\u5DDD",52:"\u8D35\u5DDE",53:"\u4E91\u5357",54:"\u897F\u85CF ",61:"\u9655\u897F",62:"\u7518\u8083",63:"\u9752\u6D77",64:"\u5B81\u590F",65:"\u65B0\u7586",71:"\u4E2D\u56FD\u53F0\u6E7E",81:"\u4E2D\u56FD\u9999\u6E2F",82:"\u4E2D\u56FD\u6FB3\u95E8"};return!!(y.test(m.toString())&&w[m.toString()])},q=function(m){if(/^(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)$/.test(m)){let w=m.substring(0,4),l=m.substring(4,6),a=m.substring(6,8),o=new Date(w+"-"+l+"-"+a);if(o&&o.getMonth()==parseInt(l)-1)return!0}return!1},T=function(m){const y=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,w=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],l=[1,0,"X",9,8,7,6,5,4,3,2],a=m.substring(17);if(y.test(m)){let s=0;for(var o=0;o<17;o++)s+=Number(m[o])*w[o];if(l[s%11]==a.toUpperCase())return!0}return!1},H=function(m){if(T(m)){var y=m.substring(6,14);if(q(y)&&_(Number(m.substring(0,2))))return!0}return!1};var X={exports:{}},O={exports:{}};(function(m,y){(function(w,l){m.exports=l()})(J,function(){return function(w){var l={};function a(o){if(l[o])return l[o].exports;var s=l[o]={i:o,l:!1,exports:{}};return w[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=w,a.c=l,a.d=function(o,s,b){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:b})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var b=Object.create(null);if(a.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var v in o)a.d(b,v,function(D){return o[D]}.bind(null,v));return b},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=0)}([function(w,l,a){var o;function s(r){return["image/png","image/jpeg","image/gif"].some(e=>e===r)}a.r(l),a.d(l,"canvastoDataURL",function(){return v}),a.d(l,"canvastoFile",function(){return D}),a.d(l,"dataURLtoFile",function(){return P}),a.d(l,"dataURLtoImage",function(){return I}),a.d(l,"downloadFile",function(){return N}),a.d(l,"filetoDataURL",function(){return j}),a.d(l,"imagetoCanvas",function(){return x}),a.d(l,"urltoBlob",function(){return R}),a.d(l,"urltoImage",function(){return L}),a.d(l,"compress",function(){return G}),a.d(l,"compressAccurately",function(){return A}),a.d(l,"EImageType",function(){return o}),function(r){r.PNG="image/png",r.JPEG="image/jpeg",r.GIF="image/gif"}(o||(o={}));var b=function(r,e,n,t){return new(n||(n=Promise))(function(i,f){function h(c){try{g(t.next(c))}catch(u){f(u)}}function d(c){try{g(t.throw(c))}catch(u){f(u)}}function g(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(p){p(u)})).then(h,d)}g((t=t.apply(r,e||[])).next())})};function v(r,e=.92,n=o.JPEG){return b(this,void 0,void 0,function*(){return s(n)||(n=o.JPEG),r.toDataURL(n,e)})}function D(r,e=.92,n=o.JPEG){return new Promise(t=>r.toBlob(i=>t(i),n,e))}var z=function(r,e,n,t){return new(n||(n=Promise))(function(i,f){function h(c){try{g(t.next(c))}catch(u){f(u)}}function d(c){try{g(t.throw(c))}catch(u){f(u)}}function g(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(p){p(u)})).then(h,d)}g((t=t.apply(r,e||[])).next())})};function P(r,e){return z(this,void 0,void 0,function*(){const n=r.split(",");let t=n[0].match(/:(.*?);/)[1];const i=atob(n[1]);let f=i.length;const h=new Uint8Array(f);for(;f--;)h[f]=i.charCodeAt(f);return s(e)&&(t=e),new Blob([h],{type:t})})}function I(r){return new Promise((e,n)=>{const t=new Image;t.onload=()=>e(t),t.onerror=()=>n(new Error("dataURLtoImage(): dataURL is illegal")),t.src=r})}function N(r,e){const n=document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=e||Date.now().toString(36),document.body.appendChild(n);const t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),n.dispatchEvent(t),document.body.removeChild(n)}function j(r){return new Promise(e=>{const n=new FileReader;n.onloadend=t=>e(t.target.result),n.readAsDataURL(r)})}var U=function(r,e,n,t){return new(n||(n=Promise))(function(i,f){function h(c){try{g(t.next(c))}catch(u){f(u)}}function d(c){try{g(t.throw(c))}catch(u){f(u)}}function g(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(p){p(u)})).then(h,d)}g((t=t.apply(r,e||[])).next())})};function x(r,e={}){return U(this,void 0,void 0,function*(){const n=Object.assign({},e),t=document.createElement("canvas"),i=t.getContext("2d");let f,h;for(const d in n)Object.prototype.hasOwnProperty.call(n,d)&&(n[d]=Number(n[d]));if(n.scale){const d=n.scale>0&&n.scale<10?n.scale:1;h=r.width*d,f=r.height*d}else h=n.width||n.height*r.width/r.height||r.width,f=n.height||n.width*r.height/r.width||r.height;switch([5,6,7,8].some(d=>d===n.orientation)?(t.height=h,t.width=f):(t.height=f,t.width=h),n.orientation){case 3:i.rotate(180*Math.PI/180),i.drawImage(r,-t.width,-t.height,t.width,t.height);break;case 6:i.rotate(90*Math.PI/180),i.drawImage(r,0,-t.width,t.height,t.width);break;case 8:i.rotate(270*Math.PI/180),i.drawImage(r,-t.height,0,t.height,t.width);break;case 2:i.translate(t.width,0),i.scale(-1,1),i.drawImage(r,0,0,t.width,t.height);break;case 4:i.translate(t.width,0),i.scale(-1,1),i.rotate(180*Math.PI/180),i.drawImage(r,-t.width,-t.height,t.width,t.height);break;case 5:i.translate(t.width,0),i.scale(-1,1),i.rotate(90*Math.PI/180),i.drawImage(r,0,-t.width,t.height,t.width);break;case 7:i.translate(t.width,0),i.scale(-1,1),i.rotate(270*Math.PI/180),i.drawImage(r,-t.height,0,t.height,t.width);break;default:i.drawImage(r,0,0,t.width,t.height)}return t})}function R(r){return fetch(r).then(e=>e.blob())}function L(r){return new Promise((e,n)=>{const t=new Image;t.onload=()=>e(t),t.onerror=()=>n(new Error("urltoImage(): Image failed to load, please check the image URL")),t.src=r})}var M=function(r,e,n,t){return new(n||(n=Promise))(function(i,f){function h(c){try{g(t.next(c))}catch(u){f(u)}}function d(c){try{g(t.throw(c))}catch(u){f(u)}}function g(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(p){p(u)})).then(h,d)}g((t=t.apply(r,e||[])).next())})};function G(r,e={}){return M(this,void 0,void 0,function*(){if(!(r instanceof Blob))throw new Error("compress(): First arg must be a Blob object or a File object.");if(typeof e!="object"&&(e=Object.assign({quality:e})),e.quality=Number(e.quality),Number.isNaN(e.quality))return r;const n=yield j(r);let t=n.split(",")[0].match(/:(.*?);/)[1],i=o.JPEG;s(e.type)&&(i=e.type,t=e.type);const f=yield I(n),h=yield x(f,Object.assign({},e)),d=yield v(h,e.quality,i),g=yield P(d,t);return g.size>r.size?r:g})}function A(r,e={}){return M(this,void 0,void 0,function*(){if(!(r instanceof Blob))throw new Error("compressAccurately(): First arg must be a Blob object or a File object.");if(typeof e!="object"&&(e=Object.assign({size:e})),e.size=Number(e.size),Number.isNaN(e.size)||1024*e.size>r.size)return r;e.accuracy=Number(e.accuracy),(!e.accuracy||e.accuracy<.8||e.accuracy>.99)&&(e.accuracy=.95);const n=e.size*(2-e.accuracy)*1024,t=1024*e.size,i=e.size*e.accuracy*1024,f=yield j(r);let h=f.split(",")[0].match(/:(.*?);/)[1],d=o.JPEG;s(e.type)&&(d=e.type,h=e.type);const g=yield I(f),c=yield x(g,Object.assign({},e));let u,p=.5;const C=[null,null];for(let E=1;E<=7;E++){u=yield v(c,p,d);const F=.75*u.length;if(E===7){(n<F||i>F)&&(u=[u,...C].filter(B=>B).sort((B,S)=>Math.abs(.75*B.length-t)-Math.abs(.75*S.length-t))[0]);break}if(n<F)C[1]=u,p-=Math.pow(.5,E+1);else{if(!(i>F))break;C[0]=u,p+=Math.pow(.5,E+1)}}const k=yield P(u,h);return k.size>r.size?r:k})}}])})})(O);(function(m){m.exports=O.exports})(X);export{H as c,X as i};
