System.register(["./api-legacy.b14c6de8.js"],(function(t){"use strict";return{setters:[t=>{t.c}],execute:function(){t("c",(function(t){return!!(function(t){const e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=[1,0,"X",9,8,7,6,5,4,3,2],r=t.substring(17);if(/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(t)){let o=0;for(var i=0;i<17;i++)o+=Number(t[i])*e[i];if(n[o%11]==r.toUpperCase())return!0}return!1}(t)&&function(t){if(/^(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)$/.test(t)){let e=t.substring(0,4),n=t.substring(4,6),r=t.substring(6,8),i=new Date(e+"-"+n+"-"+r);if(i&&i.getMonth()==parseInt(n)-1)return!0}return!1}(t.substring(6,14))&&function(t){const e={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"中国台湾",81:"中国香港",82:"中国澳门"};return!(!/^[1-9][0-9]/.test(t.toString())||!e[t.toString()])}(Number(t.substring(0,2))))}));var e=t("i",{exports:{}}),n={exports:{}};n.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var r;function i(t){return["image/png","image/jpeg","image/gif"].some((e=>e===t))}n.r(e),n.d(e,"canvastoDataURL",(function(){return a})),n.d(e,"canvastoFile",(function(){return c})),n.d(e,"dataURLtoFile",(function(){return s})),n.d(e,"dataURLtoImage",(function(){return l})),n.d(e,"downloadFile",(function(){return d})),n.d(e,"filetoDataURL",(function(){return f})),n.d(e,"imagetoCanvas",(function(){return g})),n.d(e,"urltoBlob",(function(){return w})),n.d(e,"urltoImage",(function(){return b})),n.d(e,"compress",(function(){return y})),n.d(e,"compressAccurately",(function(){return p})),n.d(e,"EImageType",(function(){return r})),function(t){t.PNG="image/png",t.JPEG="image/jpeg",t.GIF="image/gif"}(r||(r={}));var o=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))};function a(t,e=.92,n=r.JPEG){return o(this,void 0,void 0,(function*(){return i(n)||(n=r.JPEG),t.toDataURL(n,e)}))}function c(t,e=.92,n=r.JPEG){return new Promise((r=>t.toBlob((t=>r(t)),n,e)))}var u=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))};function s(t,e){return u(this,void 0,void 0,(function*(){const n=t.split(",");let r=n[0].match(/:(.*?);/)[1];const o=atob(n[1]);let a=o.length;const c=new Uint8Array(a);for(;a--;)c[a]=o.charCodeAt(a);return i(e)&&(r=e),new Blob([c],{type:r})}))}function l(t){return new Promise(((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>n(new Error("dataURLtoImage(): dataURL is illegal")),r.src=t}))}function d(t,e){const n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.download=e||Date.now().toString(36),document.body.appendChild(n);const r=document.createEvent("MouseEvents");r.initEvent("click",!1,!1),n.dispatchEvent(r),document.body.removeChild(n)}function f(t){return new Promise((e=>{const n=new FileReader;n.onloadend=t=>e(t.target.result),n.readAsDataURL(t)}))}var h=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))};function g(t,e={}){return h(this,void 0,void 0,(function*(){const n=Object.assign({},e),r=document.createElement("canvas"),i=r.getContext("2d");let o,a;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Number(n[t]));if(n.scale){const e=n.scale>0&&n.scale<10?n.scale:1;a=t.width*e,o=t.height*e}else a=n.width||n.height*t.width/t.height||t.width,o=n.height||n.width*t.height/t.width||t.height;switch([5,6,7,8].some((t=>t===n.orientation))?(r.height=a,r.width=o):(r.height=o,r.width=a),n.orientation){case 3:i.rotate(180*Math.PI/180),i.drawImage(t,-r.width,-r.height,r.width,r.height);break;case 6:i.rotate(90*Math.PI/180),i.drawImage(t,0,-r.width,r.height,r.width);break;case 8:i.rotate(270*Math.PI/180),i.drawImage(t,-r.height,0,r.height,r.width);break;case 2:i.translate(r.width,0),i.scale(-1,1),i.drawImage(t,0,0,r.width,r.height);break;case 4:i.translate(r.width,0),i.scale(-1,1),i.rotate(180*Math.PI/180),i.drawImage(t,-r.width,-r.height,r.width,r.height);break;case 5:i.translate(r.width,0),i.scale(-1,1),i.rotate(90*Math.PI/180),i.drawImage(t,0,-r.width,r.height,r.width);break;case 7:i.translate(r.width,0),i.scale(-1,1),i.rotate(270*Math.PI/180),i.drawImage(t,-r.height,0,r.height,r.width);break;default:i.drawImage(t,0,0,r.width,r.height)}return r}))}function w(t){return fetch(t).then((t=>t.blob()))}function b(t){return new Promise(((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>n(new Error("urltoImage(): Image failed to load, please check the image URL")),r.src=t}))}var m=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))};function y(t,e={}){return m(this,void 0,void 0,(function*(){if(!(t instanceof Blob))throw new Error("compress(): First arg must be a Blob object or a File object.");if("object"!=typeof e&&(e=Object.assign({quality:e})),e.quality=Number(e.quality),Number.isNaN(e.quality))return t;const n=yield f(t);let o=n.split(",")[0].match(/:(.*?);/)[1],c=r.JPEG;i(e.type)&&(c=e.type,o=e.type);const u=yield l(n),d=yield g(u,Object.assign({},e)),h=yield a(d,e.quality,c),w=yield s(h,o);return w.size>t.size?t:w}))}function p(t,e={}){return m(this,void 0,void 0,(function*(){if(!(t instanceof Blob))throw new Error("compressAccurately(): First arg must be a Blob object or a File object.");if("object"!=typeof e&&(e=Object.assign({size:e})),e.size=Number(e.size),Number.isNaN(e.size))return t;if(1024*e.size>t.size)return t;e.accuracy=Number(e.accuracy),(!e.accuracy||e.accuracy<.8||e.accuracy>.99)&&(e.accuracy=.95);const n=e.size*(2-e.accuracy)*1024,o=1024*e.size,c=e.size*e.accuracy*1024,u=yield f(t);let d=u.split(",")[0].match(/:(.*?);/)[1],h=r.JPEG;i(e.type)&&(h=e.type,d=e.type);const w=yield l(u),b=yield g(w,Object.assign({},e));let m,y=.5;const p=[null,null];for(let t=1;t<=7;t++){m=yield a(b,y,h);const e=.75*m.length;if(7===t){(n<e||c>e)&&(m=[m,...p].filter((t=>t)).sort(((t,e)=>Math.abs(.75*t.length-o)-Math.abs(.75*e.length-o)))[0]);break}if(n<e)p[1]=m,y-=Math.pow(.5,t+1);else{if(!(c>e))break;p[0]=m,y+=Math.pow(.5,t+1)}}const v=yield s(m,d);return v.size>t.size?t:v}))}}]),function(t){t.exports=n.exports}(e)}}}));
